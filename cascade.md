## ✔️ cascade 
 ---<br/>title: Introducing the CSS Cascade<br/>slug: Web/CSS/Cascade<br/>tags:<br/>  - CSS<br/>  - Cascade<br/>  - Guide<br/>  - Introduction<br/>  - Layout<br/>  - Reference<br/>  - Style<br/>  - Style sheet<br/>  - Stylesheets<br/>spec-urls: https://drafts.csswg.org/css-cascade/<br/>---<br/>{{CSSRef}}<br/><br/>The **cascade** is an algorithm that defines how to combine property values originating from different sources. It lies at the core of CSS, as emphasized by the name: _Cascading_ Style Sheets. This article explains what the cascade is, the order in which {{Glossary(CSS)}} [declarations](/en-US/docs/Web/API/CSSStyleDeclaration) cascade, and how this affects you, the web developer.<br/><br/>## Which CSS entities participate in the cascade<br/><br/>Only CSS declarations, that is property/value pairs, participate in the cascade. This means that [at-rules](/en-US/docs/Web/CSS/At-rule) containing entities other than declarations, such as a {{ cssxref(@font-face)}} rule containing _descriptors_, don't participate in the cascade. In these cases, only the at-rule as a whole participates in the cascade: here, the `@font-face` identified by its [`font-family`](/en-US/docs/Web/CSS/@font-face/font-family) descriptor. If several `@font-face` rules with the same descriptor are defined, only the most appropriate `@font-face`, as a whole, is considered.<br/><br/>While the declarations contained in most at-rules — such as those in {{cssxref(@media)}}, {{cssxref(@document)}}, or {{cssxref(@supports)}} — participate in the cascade, declarations contained in {{cssxref(@keyframes)}} don't. As with `@font-face`, only the at-rule as a whole is selected via the cascade algorithm.<br/><br/>Finally, note that {{cssxref(@import)}} and {{cssxref(@charset)}} obey specific algorithms and aren't affected by the cascade algorithm.<br/><br/>## Origin of CSS declarations<br/><br/>The CSS cascade algorithm's job is to select CSS declarations in order to determine the correct values for CSS properties. CSS declarations originate from different origins: the **[User-agent stylesheets](#user-agent_stylesheets)**, the **[Author stylesheets](#author_stylesheets)**, and the **[User stylesheets](#user_stylesheets)**.<br/><br/>Though style sheets come from these different origins, they overlap in scope; to make this work, the cascade algorithm defines how they interact.<br/><br/>### User-agent stylesheets<br/><br/>The browser has a basic style sheet that gives a default style to any document. These style sheets are named **user-agent stylesheets**. Some browsers use actual style sheets for this purpose, while others simulate them in code, but the end result is the same.<br/><br/>Some browsers let users modify the user-agent stylesheet. Although some constraints on user-agent stylesheets are set by the HTML specification, browsers still have a lot of latitude: that means that significant differences exist from one browser to another. To simplify the development process, Web developers often use a CSS reset style sheet, forcing common properties values to a known state before beginning to make alterations to suit their specific needs.<br/><br/>### Author stylesheets<br/><br/>**Author stylesheets** are the most common type of style sheet. These are style sheets that define styles as part of the design of a given web page or site. The author of the page defines the styles for the document using one or more stylesheets, which define the look and feel of the website — its theme.<br/><br/>### User stylesheets<br/><br/>The user (or reader) of the web site can choose to override styles in many browsers using a custom **user stylesheet** designed to tailor the experience to the user's wishes.<br/><br/>## Cascading order<br/><br/>The cascading algorithm determines how to find the value to apply for each property for each document element.<br/><br/>1. It first filters all the rules from the different sources to keep only the rules that apply to a given element. That means rules whose selector matches the given element and which are part of an appropriate `media` at-rule.<br/>2. Then it sorts these rules according to their importance, that is, whether or not they are followed by `!important`, and by their origin. The cascade is in ascending order, which means that `!important` values from a user-defined style sheet have precedence over normal values originated from a user-agent style sheet:<br/><br/>    |     | Origin      | Importance   |<br/>    | --- | ----------- | ------------ |<br/>    | 1   | user agent  | normal       |<br/>    | 2   | user        | normal       |<br/>    | 3   | author      | normal       |<br/>    | 4   | animations  |              |<br/>    | 5   | author      | `!important` |<br/>    | 6   | user        | `!important` |<br/>    | 7   | user agent  | `!important` |<br/>    | 8   | transitions |              |<br/><br/>3. In case of equality, the [specificity](/en-US/docs/Web/CSS/Specificity) of a value is considered to choose one or the other.<br/><br/>## Resetting styles<br/><br/>After your content has finished altering styles, it may find itself in a situation where it needs to restore them to a known state. This may happen in cases of animations, theme changes, and so forth. The CSS property {{cssxref(all)}} lets you quickly set (almost) everything in CSS back to a known state.<br/><br/>`all` lets you opt to immediately restore all properties to any of their initial (default) state, the state inherited from the previous level of the cascade, a specific origin (the user-agent stylesheet, the author stylesheet, or the user stylesheet), or even to clear the values of the properties entirely.<br/><br/>## CSS animations and the cascade<br/><br/>[CSS animations](/en-US/docs/Web/CSS/CSS_Animations), using {{ cssxref(@keyframes)}} at-rules, define animations between states. Keyframes don't cascade, meaning that at any given time CSS takes values from only one single {{cssxref(@keyframes)}}, and never mixes multiple ones together.<br/><br/>When several keyframes are appropriate, it chooses the latest defined in the most important document, but never combined all together.<br/><br/>## Example<br/><br/>Let's look at an example involving multiple sources of CSS across the various origins; here we have a user agent style sheet, two author style sheets, a user stylesheet, and inline styles within the HTML:<br/><br/>**User-agent CSS:**<br/><br/>```css<br/>li { margin-left: 10px }<br/>```<br/><br/>**Author CSS 1:**<br/><br/>```css<br/>li { margin-left: 0 } /* This is a reset */<br/>```<br/><br/>**Author CSS 2:**<br/><br/>```css<br/>@media screen {<br/>  li { margin-left: 3px }<br/>}<br/><br/>@media print {<br/>  li { margin-left: 1px }<br/>}<br/>```<br/><br/>**User CSS:**<br/><br/>```css<br/>.specific { margin-left: 1em }<br/>```<br/><br/>**HTML:**<br/><br/>```html<br/><ul><br/>  <li class=specific>1<sup>st</sup></li><br/>  <li>2<sup>nd</sup></li><br/></ul><br/>```<br/><br/>In this case, declarations inside `li` and `.specific` rules should apply. No declaration is marked as `!important`, so the precedence order is author style sheets before user style sheets or user-agent stylesheet.<br/><br/>So three declarations are in competition:<br/><br/>```css<br/>margin-left: 0<br/>```<br/><br/>```css<br/>margin-left: 3px<br/>```<br/><br/>```css<br/>margin-left: 1px<br/>```<br/><br/>The last one is ignored (on a screen), and the first two have the same selector, hence the same specificity. Therefore, it is the last one that is then selected:<br/><br/>```css<br/>margin-left: 3px<br/>```<br/><br/>Note that the declaration defined in the user CSS, though having a greater specificity, is not chosen as the cascade algorithm is applied before the specificity algorithm.<br/><br/>## Specifications<br/><br/>{{Specifications}}<br/><br/>## See also<br/><br/>- [A very simple introduction to the CSS cascade](/en-US/docs/Learn/CSS/Introduction_to_CSS/Cascade_and_inheritance)<br/>- {{CSS_Key_Concepts}}<br/>